{
  "version": 2,
  "defaults": {
    "pipeline": "implement",
    "provider": "anthropic",
    "model": "claude-sonnet-4-20250514",
    "ollamaUrl": "http://localhost:11434/api/generate",
    "maxRuntimeSeconds": 3600,
    "worktreeBase": "~/Documents/worktrees",
    "artifactsBase": "artifacts"
  },
  "pipelines": {
    "implement": {
      "script": "scripts/pipelines/implement.sh",
      "prompt": "prompts/implement.md",
      "provider": "anthropic",
      "model": "claude-sonnet-4-20250514",
      "resources": ["anthropic"],
      "maxRetries": 1,
      "retryOn": ["infra"]
    },
    "test": {
      "script": "scripts/pipelines/test.sh",
      "prompt": "prompts/test.md",
      "model": "codestral:22b",
      "resources": ["ollama", "android-device"],
      "maxRetries": 1,
      "retryOn": ["infra"]
    },
    "generate": {
      "script": "scripts/pipelines/generate.sh",
      "prompt": "prompts/generate.md",
      "model": "llama3.1:70b",
      "resources": ["ollama"],
      "maxRetries": 0
    },
    "build": {
      "script": "scripts/pipelines/build.sh",
      "prompt": null,
      "model": null,
      "resources": ["android-device"],
      "maxRetries": 1,
      "retryOn": ["infra", "build"],
      "enabled": false
    },
    "review": {
      "script": "scripts/pipelines/review.sh",
      "prompt": "prompts/review.md",
      "model": "qwen2.5-coder:32b",
      "resources": ["ollama"],
      "maxRetries": 0,
      "enabled": false
    }
  },
  "routing": {
    "ai:implement": "implement",
    "ai:test": "test",
    "ai:generate": "generate",
    "ai:build": "build",
    "ai:review": "review",
    "coding": "implement",
    "e2e": "test",
    "content": "generate",
    "*": "implement"
  },
  "repos": {
    "epiphanyapps/MapYourHealth": {
      "defaultBranch": "main",
      "setup": ["yarn sync:amplify"],
      "copyFromMain": [
        "amplify_outputs.json",
        "apps/mobile/amplify_outputs.json"
      ]
    }
  }
}
